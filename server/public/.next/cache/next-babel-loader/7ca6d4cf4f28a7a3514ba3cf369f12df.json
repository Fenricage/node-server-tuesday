{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _Promise from \"@babel/runtime-corejs2/core-js/promise\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport axios from 'axios';\nimport { SERVER_URL, NODE_ENV } from '../utils/config'; // import { history } from '../../index';\n\nvar tuesdayApi = function tuesdayApi(address) {\n  var headers = {\n    'Content-Type': 'application/json',\n    'Cache-Control': 'no-cache'\n  };\n\n  var r = function r(url) {\n    var extra = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    // проверка на прод или дев, корректирует запросы\n    if (NODE_ENV !== 'development') {\n      axios.defaults.baseURL = extra && extra.baseUrl ? extra.baseUrl : \"\".concat(SERVER_URL, \"/api\");\n    } else {\n      axios.defaults.baseURL = extra && extra.baseUrl ? extra.baseUrl : '/api';\n    }\n\n    localStorage.getItem('token') ? headers['x-access-token'] = \"\".concat(localStorage.getItem('token')) : headers['x-access-token'] = null;\n    extra.headers = extra.headers ? extra.headers : {};\n    return new _Promise(function (resolve, reject) {\n      axios(_objectSpread({\n        url: url\n      }, extra, {\n        headers: _objectSpread({}, headers, {}, extra.headers),\n        timeout: 60000\n      })).then(function (response) {\n        resolve(response.data);\n      })[\"catch\"](function (err) {\n        if (!err.response) {\n          reject(err);\n        } else {\n          if (401 === err.response.status) {\n            localStorage.removeItem('token'); // history.push('/login');\n          } else if (403 === err.response.status) {// history.push('/access-denied');\n          }\n\n          reject(err);\n        }\n      });\n    });\n  };\n\n  return {\n    auth: {\n      getToken: function getToken(username, password) {\n        return r('/token/obtain/', {\n          method: 'post',\n          data: {\n            username: username,\n            password: password\n          }\n        });\n      },\n      changePassword: function changePassword(userId, data) {\n        return r(\"/users/\".concat(userId, \"/password/\"), {\n          method: 'post',\n          data: data\n        });\n      },\n      register: function register(data) {\n        return r('/register', {\n          method: 'post',\n          data: data\n        });\n      },\n      login: function login(data) {\n        return r('/login', {\n          method: 'post',\n          data: data\n        });\n      },\n      currentUser: function currentUser() {\n        return r('/me', {\n          method: 'get'\n        });\n      }\n    },\n    utils: {\n      clientPhoto: function clientPhoto(formData) {\n        return r('/utils/photos/', {\n          method: 'post',\n          headers: {\n            'Content-Type': 'application/x-www-form-urlencoded'\n          },\n          data: formData\n        });\n      },\n      getPhoto: function getPhoto(formData) {\n        return r('/imgread', {\n          method: 'get'\n        });\n      },\n      createAttachment: function createAttachment(formData, type) {\n        return r(\"/attachments/\".concat(type), {\n          method: 'post',\n          headers: {\n            'Content-Type': 'application/x-www-form-urlencoded'\n          },\n          data: formData\n        });\n      },\n      getAttachment: function getAttachment(id) {\n        return r(\"/attachments/\".concat(id), {\n          method: 'get',\n          headers: {\n            'Content-Type': 'application/x-www-form-urlencoded'\n          }\n        });\n      }\n    },\n    roles: {\n      getAll: function getAll() {\n        return r('/users/roles/', {\n          method: 'get'\n        });\n      },\n      getRole: function getRole(roleId) {\n        return r(\"/users/roles/\".concat(roleId), {\n          method: 'get'\n        });\n      },\n      createRole: function createRole(data) {\n        return r('/users/roles/', {\n          method: 'post',\n          data: data\n        });\n      },\n      editRole: function editRole(id, data) {\n        return r(\"/users/roles/\".concat(id, \"/\"), {\n          method: 'put',\n          data: data\n        });\n      },\n      deleteRole: function deleteRole(id) {\n        return r(\"/users/roles/\".concat(id), {\n          method: 'delete'\n        });\n      }\n    },\n    users: {\n      getAll: function getAll() {\n        return r('/users', {\n          method: 'get'\n        });\n      },\n      createUser: function createUser(data) {\n        return r('/users/', {\n          method: 'post',\n          data: data\n        });\n      },\n      getUser: function getUser(id) {\n        return r(\"/users/\".concat(id, \"/\"), {\n          method: 'get'\n        });\n      },\n      editUser: function editUser(id, data) {\n        return r(\"/users/\".concat(id, \"/\"), {\n          method: 'put',\n          data: data\n        });\n      },\n      deleteUser: function deleteUser(id) {\n        return r(\"/users/\".concat(id, \"/\"), {\n          method: 'delete'\n        });\n      }\n    },\n    articles: {\n      getAll: function getAll() {\n        var queryParams = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n          page: 1,\n          size: 100\n        };\n        return r('/articles', {\n          method: 'get',\n          params: _objectSpread({}, queryParams)\n        });\n      },\n      getOne: function getOne(id) {\n        return r(\"/article/\".concat(id), {\n          method: 'get'\n        });\n      },\n      create: function create(data) {\n        return r('/article', {\n          method: 'post',\n          data: data\n        });\n      },\n      \"delete\": function _delete(id) {\n        return r(\"/article/\".concat(id), {\n          method: 'delete'\n        });\n      },\n      patch: function patch(id, data) {\n        return r(\"/article/\".concat(id), {\n          method: 'patch',\n          data: data\n        });\n      }\n    },\n    articeCategories: {\n      getAll: function getAll() {\n        return r('articles/categories', {\n          method: 'get'\n        });\n      },\n      deleteOne: function deleteOne(id) {\n        return r(\"articles/categories/\".concat(id), {\n          method: 'delete'\n        });\n      },\n      getOne: function getOne(id) {\n        return r(\"/articles/categories/\".concat(id), {\n          method: 'get'\n        });\n      },\n      patch: function patch(id, data) {\n        return r(\"/articles/categories/\".concat(id), {\n          method: 'patch',\n          data: data\n        });\n      }\n    },\n    tags: {\n      getAll: function getAll() {\n        return r('tags', {\n          method: 'get'\n        });\n      },\n      create: function create(data) {\n        return r('tags', {\n          method: 'post',\n          data: data\n        });\n      },\n      patch: function patch(id, data) {\n        return r(\"/tags/\".concat(id), {\n          method: 'patch',\n          data: data\n        });\n      },\n      deleteOne: function deleteOne(id) {\n        return r(\"tags/\".concat(id), {\n          method: 'delete'\n        });\n      }\n    }\n  };\n};\n\nvar api = new tuesdayApi();\nexport default api;","map":{"version":3,"sources":["/usr/src/app/server/public/shared/api/index.js"],"names":["axios","SERVER_URL","NODE_ENV","tuesdayApi","address","headers","r","url","extra","defaults","baseURL","baseUrl","localStorage","getItem","resolve","reject","timeout","then","response","data","err","status","removeItem","auth","getToken","username","password","method","changePassword","userId","register","login","currentUser","utils","clientPhoto","formData","getPhoto","createAttachment","type","getAttachment","id","roles","getAll","getRole","roleId","createRole","editRole","deleteRole","users","createUser","getUser","editUser","deleteUser","articles","queryParams","page","size","params","getOne","create","patch","articeCategories","deleteOne","tags","api"],"mappings":";;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,EAAqBC,QAArB,QAAqC,iBAArC,C,CACA;;AAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAAUC,OAAV,EAAmB;AAEpC,MAAMC,OAAO,GAAG;AACd,oBAAgB,kBADF;AAEd,qBAAiB;AAFH,GAAhB;;AAKA,MAAMC,CAAC,GAAG,SAAJA,CAAI,CAACC,GAAD,EAAqB;AAAA,QAAfC,KAAe,uEAAP,EAAO;;AAC7B;AACA,QAAIN,QAAQ,KAAK,aAAjB,EAAgC;AAC9BF,MAAAA,KAAK,CAACS,QAAN,CAAeC,OAAf,GAAyBF,KAAK,IAAIA,KAAK,CAACG,OAAf,GAAyBH,KAAK,CAACG,OAA/B,aAA4CV,UAA5C,SAAzB;AACD,KAFD,MAEO;AACLD,MAAAA,KAAK,CAACS,QAAN,CAAeC,OAAf,GAAyBF,KAAK,IAAIA,KAAK,CAACG,OAAf,GAAyBH,KAAK,CAACG,OAA/B,GAAyC,MAAlE;AACD;;AAEDC,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,IAAgCR,OAAO,CAAC,gBAAD,CAAP,aAA+BO,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA/B,CAAhC,GAAiGR,OAAO,CAAC,gBAAD,CAAP,GAA4B,IAA7H;AACAG,IAAAA,KAAK,CAACH,OAAN,GAAgBG,KAAK,CAACH,OAAN,GAAgBG,KAAK,CAACH,OAAtB,GAAgC,EAAhD;AAEA,WAAO,aAAY,UAACS,OAAD,EAAUC,MAAV,EAAqB;AACtCf,MAAAA,KAAK;AACHO,QAAAA,GAAG,EAAHA;AADG,SAGAC,KAHA;AAIHH,QAAAA,OAAO,oBACFA,OADE,MAEFG,KAAK,CAACH,OAFJ,CAJJ;AAQHW,QAAAA,OAAO,EAAE;AARN,SAAL,CAUGC,IAVH,CAUQ,UAACC,QAAD,EAAc;AAClBJ,QAAAA,OAAO,CAACI,QAAQ,CAACC,IAAV,CAAP;AACD,OAZH,WAaS,UAACC,GAAD,EAAS;AACd,YAAI,CAACA,GAAG,CAACF,QAAT,EAAmB;AACjBH,UAAAA,MAAM,CAACK,GAAD,CAAN;AACD,SAFD,MAEO;AACL,cAAI,QAAQA,GAAG,CAACF,QAAJ,CAAaG,MAAzB,EAAiC;AAE/BT,YAAAA,YAAY,CAACU,UAAb,CAAwB,OAAxB,EAF+B,CAG/B;AAED,WALD,MAKO,IAAI,QAAQF,GAAG,CAACF,QAAJ,CAAaG,MAAzB,EAAiC,CACtC;AACD;;AACDN,UAAAA,MAAM,CAACK,GAAD,CAAN;AACD;AACF,OA3BH;AA4BD,KA7BM,CAAP;AA8BD,GAzCD;;AA2CA,SAAO;AACLG,IAAAA,IAAI,EAAE;AACJC,MAAAA,QAAQ,EAAE,kBAACC,QAAD,EAAWC,QAAX;AAAA,eAAwBpB,CAAC,CAAC,gBAAD,EACjC;AACEqB,UAAAA,MAAM,EAAE,MADV;AAEER,UAAAA,IAAI,EAAE;AACJM,YAAAA,QAAQ,EAARA,QADI;AAEJC,YAAAA,QAAQ,EAARA;AAFI;AAFR,SADiC,CAAzB;AAAA,OADN;AASJE,MAAAA,cAAc,EAAE,wBAACC,MAAD,EAASV,IAAT;AAAA,eAAkBb,CAAC,kBAAWuB,MAAX,iBAA+B;AAChEF,UAAAA,MAAM,EAAE,MADwD;AAEhER,UAAAA,IAAI,EAAJA;AAFgE,SAA/B,CAAnB;AAAA,OATZ;AAaJW,MAAAA,QAAQ,EAAE,kBAAAX,IAAI;AAAA,eAAIb,CAAC,CAAC,WAAD,EAAc;AAC/BqB,UAAAA,MAAM,EAAE,MADuB;AAE/BR,UAAAA,IAAI,EAAJA;AAF+B,SAAd,CAAL;AAAA,OAbV;AAiBJY,MAAAA,KAAK,EAAE,eAAAZ,IAAI;AAAA,eAAIb,CAAC,CAAC,QAAD,EAAW;AACzBqB,UAAAA,MAAM,EAAE,MADiB;AAEzBR,UAAAA,IAAI,EAAJA;AAFyB,SAAX,CAAL;AAAA,OAjBP;AAqBJa,MAAAA,WAAW,EAAE;AAAA,eAAM1B,CAAC,CAAC,KAAD,EAAQ;AAC1BqB,UAAAA,MAAM,EAAE;AADkB,SAAR,CAAP;AAAA;AArBT,KADD;AA0BLM,IAAAA,KAAK,EAAE;AACLC,MAAAA,WAAW,EAAE,qBAAAC,QAAQ;AAAA,eAAI7B,CAAC,CAAC,gBAAD,EACxB;AACEqB,UAAAA,MAAM,EAAE,MADV;AAEEtB,UAAAA,OAAO,EAAE;AAAE,4BAAgB;AAAlB,WAFX;AAGEc,UAAAA,IAAI,EAAEgB;AAHR,SADwB,CAAL;AAAA,OADhB;AAOLC,MAAAA,QAAQ,EAAE,kBAAAD,QAAQ;AAAA,eAAI7B,CAAC,CAAC,UAAD,EACrB;AACEqB,UAAAA,MAAM,EAAE;AADV,SADqB,CAAL;AAAA,OAPb;AAWLU,MAAAA,gBAAgB,EAAE,0BAACF,QAAD,EAAWG,IAAX;AAAA,eAAoBhC,CAAC,wBAAiBgC,IAAjB,GACrC;AACEX,UAAAA,MAAM,EAAE,MADV;AAEEtB,UAAAA,OAAO,EAAE;AAAE,4BAAgB;AAAlB,WAFX;AAGEc,UAAAA,IAAI,EAAEgB;AAHR,SADqC,CAArB;AAAA,OAXb;AAiBLI,MAAAA,aAAa,EAAE,uBAAAC,EAAE;AAAA,eAAIlC,CAAC,wBAAiBkC,EAAjB,GACpB;AACEb,UAAAA,MAAM,EAAE,KADV;AAEEtB,UAAAA,OAAO,EAAE;AAAE,4BAAgB;AAAlB;AAFX,SADoB,CAAL;AAAA;AAjBZ,KA1BF;AAiDLoC,IAAAA,KAAK,EAAE;AACLC,MAAAA,MAAM,EAAE;AAAA,eAAMpC,CAAC,CAAC,eAAD,EACb;AACEqB,UAAAA,MAAM,EAAE;AADV,SADa,CAAP;AAAA,OADH;AAKLgB,MAAAA,OAAO,EAAE,iBAAAC,MAAM;AAAA,eAAItC,CAAC,wBAAiBsC,MAAjB,GAClB;AACEjB,UAAAA,MAAM,EAAE;AADV,SADkB,CAAL;AAAA,OALV;AASLkB,MAAAA,UAAU,EAAE,oBAAA1B,IAAI;AAAA,eAAIb,CAAC,CAAC,eAAD,EACnB;AACEqB,UAAAA,MAAM,EAAE,MADV;AAEER,UAAAA,IAAI,EAAJA;AAFF,SADmB,CAAL;AAAA,OATX;AAcL2B,MAAAA,QAAQ,EAAE,kBAACN,EAAD,EAAKrB,IAAL;AAAA,eAAcb,CAAC,wBAAiBkC,EAAjB,QACvB;AACEb,UAAAA,MAAM,EAAE,KADV;AAEER,UAAAA,IAAI,EAAJA;AAFF,SADuB,CAAf;AAAA,OAdL;AAmBL4B,MAAAA,UAAU,EAAE,oBAAAP,EAAE;AAAA,eAAIlC,CAAC,wBAAiBkC,EAAjB,GACjB;AACEb,UAAAA,MAAM,EAAE;AADV,SADiB,CAAL;AAAA;AAnBT,KAjDF;AAyELqB,IAAAA,KAAK,EAAE;AACLN,MAAAA,MAAM,EAAE;AAAA,eAAMpC,CAAC,CAAC,QAAD,EACb;AACEqB,UAAAA,MAAM,EAAE;AADV,SADa,CAAP;AAAA,OADH;AAKLsB,MAAAA,UAAU,EAAE,oBAAA9B,IAAI;AAAA,eAAIb,CAAC,CAAC,SAAD,EACnB;AACEqB,UAAAA,MAAM,EAAE,MADV;AAEER,UAAAA,IAAI,EAAJA;AAFF,SADmB,CAAL;AAAA,OALX;AAUL+B,MAAAA,OAAO,EAAE,iBAAAV,EAAE;AAAA,eAAIlC,CAAC,kBAAWkC,EAAX,QACd;AACEb,UAAAA,MAAM,EAAE;AADV,SADc,CAAL;AAAA,OAVN;AAcLwB,MAAAA,QAAQ,EAAE,kBAACX,EAAD,EAAKrB,IAAL;AAAA,eAAcb,CAAC,kBAAWkC,EAAX,QACvB;AACEb,UAAAA,MAAM,EAAE,KADV;AAEER,UAAAA,IAAI,EAAJA;AAFF,SADuB,CAAf;AAAA,OAdL;AAmBLiC,MAAAA,UAAU,EAAE,oBAAAZ,EAAE;AAAA,eAAIlC,CAAC,kBAAWkC,EAAX,QACjB;AACEb,UAAAA,MAAM,EAAE;AADV,SADiB,CAAL;AAAA;AAnBT,KAzEF;AAiGL0B,IAAAA,QAAQ,EAAE;AACRX,MAAAA,MAAM,EAAE;AAAA,YAACY,WAAD,uEAAe;AAAEC,UAAAA,IAAI,EAAE,CAAR;AAAWC,UAAAA,IAAI,EAAE;AAAjB,SAAf;AAAA,eAA0ClD,CAAC,CAAC,WAAD,EACjD;AACEqB,UAAAA,MAAM,EAAE,KADV;AAEE8B,UAAAA,MAAM,oBACDH,WADC;AAFR,SADiD,CAA3C;AAAA,OADA;AAQRI,MAAAA,MAAM,EAAE,gBAAAlB,EAAE;AAAA,eAAIlC,CAAC,oBAAakC,EAAb,GACb;AACEb,UAAAA,MAAM,EAAE;AADV,SADa,CAAL;AAAA,OARF;AAYRgC,MAAAA,MAAM,EAAE,gBAAAxC,IAAI;AAAA,eAAIb,CAAC,CAAC,UAAD,EACf;AACEqB,UAAAA,MAAM,EAAE,MADV;AAEER,UAAAA,IAAI,EAAJA;AAFF,SADe,CAAL;AAAA,OAZJ;AAiBR,gBAAQ,iBAAAqB,EAAE;AAAA,eAAIlC,CAAC,oBAAakC,EAAb,GACb;AACEb,UAAAA,MAAM,EAAE;AADV,SADa,CAAL;AAAA,OAjBF;AAqBRiC,MAAAA,KAAK,EAAE,eAACpB,EAAD,EAAKrB,IAAL;AAAA,eAAcb,CAAC,oBAAakC,EAAb,GACpB;AACEb,UAAAA,MAAM,EAAE,OADV;AAEER,UAAAA,IAAI,EAAJA;AAFF,SADoB,CAAf;AAAA;AArBC,KAjGL;AA4HL0C,IAAAA,gBAAgB,EAAE;AAChBnB,MAAAA,MAAM,EAAE;AAAA,eAAMpC,CAAC,CAAC,qBAAD,EACb;AACEqB,UAAAA,MAAM,EAAE;AADV,SADa,CAAP;AAAA,OADQ;AAKhBmC,MAAAA,SAAS,EAAE,mBAAAtB,EAAE;AAAA,eAAIlC,CAAC,+BAAwBkC,EAAxB,GAChB;AACEb,UAAAA,MAAM,EAAE;AADV,SADgB,CAAL;AAAA,OALG;AAShB+B,MAAAA,MAAM,EAAE,gBAAAlB,EAAE;AAAA,eAAIlC,CAAC,gCAAyBkC,EAAzB,GACb;AACEb,UAAAA,MAAM,EAAE;AADV,SADa,CAAL;AAAA,OATM;AAahBiC,MAAAA,KAAK,EAAE,eAACpB,EAAD,EAAKrB,IAAL;AAAA,eAAcb,CAAC,gCAAyBkC,EAAzB,GACpB;AACEb,UAAAA,MAAM,EAAE,OADV;AAEER,UAAAA,IAAI,EAAJA;AAFF,SADoB,CAAf;AAAA;AAbS,KA5Hb;AA+IL4C,IAAAA,IAAI,EAAE;AACJrB,MAAAA,MAAM,EAAE;AAAA,eAAMpC,CAAC,CAAC,MAAD,EAAS;AACtBqB,UAAAA,MAAM,EAAE;AADc,SAAT,CAAP;AAAA,OADJ;AAIJgC,MAAAA,MAAM,EAAE,gBAAAxC,IAAI;AAAA,eAAIb,CAAC,CAAC,MAAD,EAAS;AACxBqB,UAAAA,MAAM,EAAE,MADgB;AAExBR,UAAAA,IAAI,EAAJA;AAFwB,SAAT,CAAL;AAAA,OAJR;AAQJyC,MAAAA,KAAK,EAAE,eAACpB,EAAD,EAAKrB,IAAL;AAAA,eAAcb,CAAC,iBAAUkC,EAAV,GACpB;AACEb,UAAAA,MAAM,EAAE,OADV;AAEER,UAAAA,IAAI,EAAJA;AAFF,SADoB,CAAf;AAAA,OARH;AAaJ2C,MAAAA,SAAS,EAAE,mBAAAtB,EAAE;AAAA,eAAIlC,CAAC,gBAASkC,EAAT,GAChB;AACEb,UAAAA,MAAM,EAAE;AADV,SADgB,CAAL;AAAA;AAbT;AA/ID,GAAP;AAkKD,CApND;;AAuNA,IAAMqC,GAAG,GAAG,IAAI7D,UAAJ,EAAZ;AACA,eAAe6D,GAAf","sourcesContent":["import axios from 'axios';\nimport { SERVER_URL, NODE_ENV } from '../utils/config';\n// import { history } from '../../index';\n\nconst tuesdayApi = function (address) {\n\n  const headers = {\n    'Content-Type': 'application/json',\n    'Cache-Control': 'no-cache',\n  };\n\n  const r = (url, extra = {}) => {\n    // проверка на прод или дев, корректирует запросы\n    if (NODE_ENV !== 'development') {\n      axios.defaults.baseURL = extra && extra.baseUrl ? extra.baseUrl : `${SERVER_URL}/api`;\n    } else {\n      axios.defaults.baseURL = extra && extra.baseUrl ? extra.baseUrl : '/api';\n    }\n\n    localStorage.getItem('token') ? headers['x-access-token'] = `${localStorage.getItem('token')}` : headers['x-access-token'] = null;\n    extra.headers = extra.headers ? extra.headers : {};\n\n    return new Promise((resolve, reject) => {\n      axios({\n        url,\n        // headers,\n        ...extra,\n        headers: {\n          ...headers,\n          ...extra.headers,\n        },\n        timeout: 60000,\n      })\n        .then((response) => {\n          resolve(response.data);\n        })\n        .catch((err) => {\n          if (!err.response) {\n            reject(err);\n          } else {\n            if (401 === err.response.status) {\n\n              localStorage.removeItem('token');\n              // history.push('/login');\n\n            } else if (403 === err.response.status) {\n              // history.push('/access-denied');\n            }\n            reject(err);\n          }\n        });\n    });\n  };\n\n  return {\n    auth: {\n      getToken: (username, password) => r('/token/obtain/',\n        {\n          method: 'post',\n          data: {\n            username,\n            password,\n          },\n        }),\n      changePassword: (userId, data) => r(`/users/${userId}/password/`, {\n        method: 'post',\n        data,\n      }),\n      register: data => r('/register', {\n        method: 'post',\n        data,\n      }),\n      login: data => r('/login', {\n        method: 'post',\n        data,\n      }),\n      currentUser: () => r('/me', {\n        method: 'get',\n      }),\n    },\n    utils: {\n      clientPhoto: formData => r('/utils/photos/',\n        {\n          method: 'post',\n          headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\n          data: formData,\n        }),\n      getPhoto: formData => r('/imgread',\n        {\n          method: 'get',\n        }),\n      createAttachment: (formData, type) => r(`/attachments/${type}`,\n        {\n          method: 'post',\n          headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\n          data: formData,\n        }),\n      getAttachment: id => r(`/attachments/${id}`,\n        {\n          method: 'get',\n          headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\n        }),\n    },\n    roles: {\n      getAll: () => r('/users/roles/',\n        {\n          method: 'get',\n        }),\n      getRole: roleId => r(`/users/roles/${roleId}`,\n        {\n          method: 'get',\n        }),\n      createRole: data => r('/users/roles/',\n        {\n          method: 'post',\n          data,\n        }),\n      editRole: (id, data) => r(`/users/roles/${id}/`,\n        {\n          method: 'put',\n          data,\n        }),\n      deleteRole: id => r(`/users/roles/${id}`,\n        {\n          method: 'delete',\n        }),\n    },\n    users: {\n      getAll: () => r('/users',\n        {\n          method: 'get',\n        }),\n      createUser: data => r('/users/',\n        {\n          method: 'post',\n          data,\n        }),\n      getUser: id => r(`/users/${id}/`,\n        {\n          method: 'get',\n        }),\n      editUser: (id, data) => r(`/users/${id}/`,\n        {\n          method: 'put',\n          data,\n        }),\n      deleteUser: id => r(`/users/${id}/`,\n        {\n          method: 'delete',\n        }),\n    },\n    articles: {\n      getAll: (queryParams = { page: 1, size: 100 }) => r('/articles',\n        {\n          method: 'get',\n          params: {\n            ...queryParams,\n          },\n        }),\n      getOne: id => r(`/article/${id}`,\n        {\n          method: 'get',\n        }),\n      create: data => r('/article',\n        {\n          method: 'post',\n          data,\n        }),\n      delete: id => r(`/article/${id}`,\n        {\n          method: 'delete',\n        }),\n      patch: (id, data) => r(`/article/${id}`,\n        {\n          method: 'patch',\n          data,\n        }),\n    },\n    articeCategories: {\n      getAll: () => r('articles/categories',\n        {\n          method: 'get',\n        }),\n      deleteOne: id => r(`articles/categories/${id}`,\n        {\n          method: 'delete',\n        }),\n      getOne: id => r(`/articles/categories/${id}`,\n        {\n          method: 'get',\n        }),\n      patch: (id, data) => r(`/articles/categories/${id}`,\n        {\n          method: 'patch',\n          data,\n        }),\n    },\n    tags: {\n      getAll: () => r('tags', {\n        method: 'get',\n      }),\n      create: data => r('tags', {\n        method: 'post',\n        data,\n      }),\n      patch: (id, data) => r(`/tags/${id}`,\n        {\n          method: 'patch',\n          data,\n        }),\n      deleteOne: id => r(`tags/${id}`,\n        {\n          method: 'delete',\n        }),\n    },\n  };\n};\n\n\nconst api = new tuesdayApi();\nexport default api;\n"]},"metadata":{},"sourceType":"module"}